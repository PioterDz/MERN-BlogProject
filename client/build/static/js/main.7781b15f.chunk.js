(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},105:function(e,t,n){e.exports=n(269)},110:function(e,t,n){},111:function(e,t,n){},117:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},156:function(e,t){},174:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},267:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),s=n.n(c),o=n(5),u=n(6),l=n(8),i=n(7),p=n(9),m=n(28),d=(n(110),function(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}),f=n(22),h=(n(111),function(e){var t=e.links,n=e.location;return r.a.createElement("ul",{className:"main-menu"},t.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(f.b,{className:n.pathname===e.path?"active":"",to:e.path},e.title))}))}),v=Object(m.e)(function(e){return r.a.createElement(h,e)}),E=(n(117),function(e){e.links,e.location;return r.a.createElement("h1",{className:"logo"},"Blog.app")}),g=n(100),b=n.n(g),O=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{path:"/",title:"Home"},{path:"/posts/new",title:"Add post"},{path:"/posts",title:"Posts"},{path:"/contact",title:"Contact"},{path:"/random",title:"Random post"}]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.links;return r.a.createElement("nav",{className:"navbar",style:b.a},r.a.createElement(E,null),r.a.createElement(v,{links:e}))}}]),t}(r.a.Component),j=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(d,null,r.a.createElement(O,null),t))},P=n(12),y=n(51),x=n(19),k=n(11),q=n.n(k),_=n(25),w=n(30),C=n.n(w),N=function(e){return"app/".concat("posts","/").concat(e)},S=function(e){return e.posts.request},T=function(e){return e.posts.singlePost},R=function(e){var t=e.posts;return Math.ceil(t.amount/t.postsPerPage)},A=N("LOAD_POSTS"),D=N("START_REQUEST"),I=N("END_REQUEST"),U=N("ERROR_REQUEST"),B=N("LOAD_SINGLE_POST"),M=N("RESET_REQUEST"),L=N("LOAD_POSTS_PAGE"),F=function(){return{type:D}},Q=function(){return{type:I}},X=function(e){return{error:e,type:U}},G=function(){return{type:M}},J=function(e){return{payload:e,type:B}},V=function(e){return{payload:e,type:L}},H={data:[],request:{pending:!1,error:null,success:null},singlePost:{},amount:0,presentPage:1,initialPage:1},K=function(e){return function(){var t=Object(_.a)(q.a.mark(function t(n){var a;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,C.a.get("".concat("/api","/posts/").concat(e));case 4:return a=t.sent,t.next=7,n(J(a.data[0]));case 7:n(Q()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(X(t.t0.message));case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()};var Y=n(23),z=(n(137),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(Y.a)(e,["variant","children"]);return r.a.createElement("button",Object.assign({},c,{className:"button button--".concat(n)}),a)}),W=(n(138),function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return r.a.createElement("h2",Object.assign({},n,{className:"small-title"}),t)}),Z=n(102),$=n.n(Z),ee=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return r.a.createElement("span",Object.assign({},n,{className:"html-box"}),$()(t))},te=(n(174),function(e){var t=e.id,n=e.title,a=e.content,c=e.cutText,s=e.author;return r.a.createElement("article",{className:"post-summary"},r.a.createElement(W,null,n),r.a.createElement(ee,null,c(a,250)),r.a.createElement("p",null,"Author: ",s),r.a.createElement(z,{variant:"primary"},r.a.createElement(f.b,{to:"posts/"+t},"Read more")),r.a.createElement(z,{variant:"primary"},r.a.createElement(f.b,{to:"posts/edit/"+t},"Edit")))}),ne=function(e){var t=e.posts,n=e.cutText;return r.a.createElement("div",null,r.a.createElement("section",{className:"posts-list"},t.map(function(e){return r.a.createElement(te,Object.assign({cutText:n,key:e.id},e))})))},ae=n(50),re=(n(226),function(){return r.a.createElement(ae.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),ce=n(35),se=(n(227),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(Y.a)(e,["variant","children"]);return r.a.createElement(ae.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",Object.assign({},c,{className:"alert alert--".concat(n)}),function(){switch(n){case"info":return r.a.createElement(ce.c,null);case"success":return r.a.createElement(ce.a,null);case"warning":case"error":return r.a.createElement(ce.b,null);default:return r.a.createElement(ce.c,null)}}(),r.a.createElement("span",{className:"alert__desc"},a)))}),oe=(n(228),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).changePage=function(e){(0,n.props.onPageChange)(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pages,n=e.presentPage,a=this.changePage;return r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",{className:"pagination__list"},r.a.createElement("span",{onClick:function(){a(n-1)}},1!==n?"<":""),Object(y.a)(Array(t)).map(function(e,t){return r.a.createElement("li",{key:++t,onClick:function(){a(t)},className:"pagination__list__item".concat(t===n?" pagination__list__item--active":"")},t)}),r.a.createElement("span",{onClick:function(){a(n+1)}},n!==t&&0!==n?">":"")))}}]),t}(r.a.Component)),ue=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.request,a=e.pages,c=e.presentPage,s=e.pagination,o=e.cutText,u=e.loadPostsPage;return n.pending||null===n.success?r.a.createElement(re,null):n.pending||null===n.error?!n.pending&&n.success&&0===t.length?r.a.createElement(se,{variant:"info",children:"no posts"}):!n.pending&&n.success&&t.length>0?r.a.createElement("div",null,r.a.createElement(ne,{posts:t,cutText:o}),s?r.a.createElement(oe,{presentPage:c,pages:a,onPageChange:u}):""):void 0:r.a.createElement(se,{variant:"error",children:n.error})}}]),t}(r.a.Component);var le=function(e,t,n){return function(a){function c(){var e,a;Object(o.a)(this,c);for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return(a=Object(l.a)(this,(e=Object(i.a)(c)).call.apply(e,[this].concat(s)))).state={pagination:n,postsPerPage:t},a.loadPostsPage=function(e){(0,a.props.loadPostsByPage)(e,a.state.postsPerPage)},a.cutText=function(e,t){if(t<1)return"Error";if(t>e.length){var n=e.split("").lastIndexOf(" ",t);return e.substr(0,n)+"..."}return e},a}return Object(p.a)(c,a),Object(u.a)(c,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadPostsByPage,n=e.resetRequest,a=e.initialPage,r=this.state.postsPerPage;n(),t(a||1,r)}},{key:"render",value:function(){var t=this.state,n=t.pagination,a=t.postsPerPage,c=this.props,s=c.posts,o=c.request,u=c.pages,l=c.presentPage,i=this.loadPostsPage,p=this.cutText;return r.a.createElement(e,Object.assign({pagination:n,postsPerPage:a,posts:s,request:o,pages:u,presentPage:l,loadPostsPage:i,cutText:p},this.props))}}]),c}(r.a.Component)},ie=le(function(e){var t=e.posts,n=e.request,a=e.pages,c=e.presentPage,s=e.pagination,o=e.loadPostsPage,u=e.cutText;return r.a.createElement("div",null,r.a.createElement(ue,{posts:t,request:n,pages:a,presentPage:c,pagination:s,loadPostsPage:o,cutText:u}))},10,!0),pe=(n(229),function(e){var t=e.children;return r.a.createElement("h1",{className:"page-title"},t)}),me=le(function(e){var t=e.posts,n=e.request,a=e.pages,c=e.presentPage,s=e.pagination,o=e.loadPostsPage,u=e.cutText;return r.a.createElement("div",null,r.a.createElement(pe,null,"Blog"),r.a.createElement(ue,{posts:t,request:n,pages:a,presentPage:c,pagination:s,loadPostsPage:o,cutText:u}))},3,!1),de=function(e){return{posts:(a=e,a.posts.data),request:S(e),pages:R(e),presentPage:(n=e,n.posts.presentPage),initialPage:(t=e,t.posts.initialPage)};var t,n,a},fe=function(e){return{loadPostsByPage:function(t,n){return e(function(e,t){return function(){var n=Object(_.a)(q.a.mark(function n(a){var r,c,s,o,u;return q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(F()),n.prev=1,c=(e-1)*(r=t),s=r,n.next=7,C.a.get("".concat("/api","/posts/range/").concat(c,"/").concat(s));case 7:o=n.sent,u={posts:o.data.posts,amount:o.data.amount,postsPerPage:r,presentPage:e},a(V(u)),a(Q()),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),a(X(n.t0.message));case 16:case"end":return n.stop()}},n,null,[[1,13]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))},resetRequest:function(){return e(G())}}},he=Object(P.b)(de,fe)(ie),ve=Object(P.b)(de,fe)(me),Ee=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.postsCount;return e.request.success?r.a.createElement("div",null,"Posts amount: ",t>0?t:"no posts"):null}}]),t}(r.a.Component),ge=Object(P.b)(function(e){return{postsCount:(t=e,t.posts.data.length),request:S(e)};var t},function(e){return{loadPosts:function(){return e(function(){var e=Object(_.a)(q.a.mark(function e(t){var n;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(F()),e.prev=1,e.next=4,C.a.get("".concat("/api","/posts"));case 4:n=e.sent,t({payload:n.data,type:A}),t(Q()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(X(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}())}}})(Ee),be=function(){return r.a.createElement("div",null,r.a.createElement(pe,null,"Posts list"),r.a.createElement(ge,null),r.a.createElement(he,null))},Oe=function(){return r.a.createElement("div",null,r.a.createElement(pe,null,"Kontakt"),r.a.createElement("p",null,"Your Favourite Blooger Ltd."),r.a.createElement("p",null,"9432 Division Street"),r.a.createElement("p",null,"Stone Mountain, GA 30083"),r.a.createElement("p",null,"Mobile Number: 207-914-3411"))},je=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Not Found"))},Pe=n(52),ye=function(e){var t=e.post,n=e.request,a=e.location;return n.pending||null===n.success?r.a.createElement(re,null):n.pending||null===n.error?!n.pending&&n.success&&0===Object.keys(t).length?r.a.createElement(se,{variant:"info",children:"no posts"}):!n.pending&&n.success&&Object.keys(t).length>0?r.a.createElement("div",null,r.a.createElement(pe,null,t.title),r.a.createElement("p",null,"Author: ",t.author),r.a.createElement(ee,null,t.content),r.a.createElement(Pe.FacebookProvider,{appId:"2683371941697520"},r.a.createElement(Pe.Comments,{href:"".concat("http://localhost:3000","/").concat(a.pathname)}),r.a.createElement(Pe.ShareButton,{href:"".concat("http://localhost:3000","/").concat(a.pathname)},"Share"))):void 0:r.a.createElement(se,{variant:"error",children:n.error})},xe=Object(m.e)(function(e){return r.a.createElement(ye,e)}),ke=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadRandomPost;(0,e.resetRequest)(),t()}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.request;return r.a.createElement(xe,{post:t.data,request:n})}}]),t}(r.a.Component),qe=Object(P.b)(function(e){return{post:T(e),request:S(e)}},function(e){return{loadRandomPost:function(){return e(function(){var e=Object(_.a)(q.a.mark(function e(t){var n;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(F()),e.prev=1,e.next=4,C.a.get("".concat("/api","/random"));case 4:return n=e.sent,e.next=7,t(J(n));case 7:t(Q()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(X(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}())},resetRequest:function(){return e(G())}}})(ke),_e=(n(259),function(e){var t=e.value,n=e.label,a=e.onChange,c=Object(Y.a)(e,["value","label","onChange"]);return r.a.createElement("label",{className:"text-field"},r.a.createElement("span",{className:"text-field__label ".concat(!t.length>0?"text-field__label--big":"")},n),r.a.createElement("input",Object.assign({},c,{value:t,onChange:a,className:"text-field__input"})))}),we=(n(260),function(e){var t=e.children;return r.a.createElement("h2",{className:"section-title"},t)}),Ce=(n(261),n(103)),Ne=n.n(Ce),Se=(n(265),n(266),function(e){var t=e.post,n=e.request,a=e.handleChange,c=e.handleEditor,s=e.formFunc;return n.error?r.a.createElement(se,{variant:"error"},n.error):n.pending?r.a.createElement(re,null):r.a.createElement("form",{onSubmit:s},r.a.createElement(_e,{label:"Title",value:t.title,onChange:a,name:"title"}),r.a.createElement(_e,{label:"Author",value:t.author,onChange:a,name:"author"}),r.a.createElement(we,null,"Edit post content"),r.a.createElement(Ne.a,{className:"content-editor",text:t.content,onChange:c,options:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}}}),r.a.createElement(z,{variant:"primary"},"Add post"))}),Te=n(49);var Re=function(e){return function(t){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(i.a)(n)).call.apply(e,[this].concat(r)))).state={post:{title:"",author:"",content:""}},t.handleChange=function(e){var n=t.state.post;t.setState({post:Object(x.a)({},n,Object(Te.a)({},e.target.name,e.target.value))})},t.handleEditor=function(e){var n=t.state.post;t.setState({post:Object(x.a)({},n,{content:e})})},t.fillUpState=function(e){t.setState({post:{title:e.title,author:e.author,content:e.content}})},t}return Object(p.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(e,Object.assign({post:this.state.post,handleChange:this.handleChange,handleEditor:this.handleEditor,fillUpState:this.fillUpState},this.props))}}]),n}(r.a.Component)},Ae=Re(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).addPost=function(e){var t=n.props,a=t.addPost,r=t.post;e.preventDefault(),a(r)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e=this.addPost,t=this.props,n=t.request,a=t.post,c=t.handleChange,s=t.handleEditor;return n.success?r.a.createElement(se,{variant:"success"},"Post has been added!"):r.a.createElement(Se,{formFunc:e,request:n,post:a,handleChange:c,handleEditor:s})}}]),t}(r.a.Component)),De=Object(P.b)(function(e){return{request:S(e)}},function(e){return{addPost:function(t){return e(function(e){return function(){var t=Object(_.a)(q.a.mark(function t(n){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,C.a.post("".concat("/api","/posts"),e);case 4:t.sent,n(Q()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(X(t.t0.message));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}(t))},resetRequest:function(){return e(G())}}})(Ae),Ie=function(){return r.a.createElement("div",null,r.a.createElement(De,null))},Ue=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadPost;(0,e.resetRequest)(),t(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.request;return r.a.createElement(xe,{post:t,request:n})}}]),t}(r.a.Component),Be=Object(P.b)(function(e){return{post:T(e),request:S(e)}},function(e){return{loadPost:function(t){return e(K(t))},resetRequest:function(){return e(G())}}})(Ue),Me=Re(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={edited:!1},n.editPost=function(e){var t=n.props,a=t.editPost,r=t.request,c=t.post;if(e.preventDefault(),a(c,n.props.match.params.id),r.success)return n.setState({edited:!0})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(q.a.mark(function e(){var t,n,a,r,c;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.loadPost,a=t.resetRequest,r=t.fillUpState,a(),e.next=4,n(this.props.match.params.id);case 4:return c=this.props.singlePost,e.next=7,r(c);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.request,n=e.handleChange,a=e.handleEditor,c=e.post,s=this.state.edited,o=this.editPost;return t.success&&s?r.a.createElement(se,{variant:"success"},"Post has been added!"):r.a.createElement(Se,{formFunc:o,request:t,post:c,handleChange:n,handleEditor:a})}}]),t}(r.a.Component)),Le=Object(P.b)(function(e){return{singlePost:T(e),request:S(e)}},function(e){return{editPost:function(t,n){return e(function(e,t){return function(){var n=Object(_.a)(q.a.mark(function n(a){return q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(F()),n.prev=1,n.next=4,C.a.post("".concat("/api","/posts/edit/").concat(t),e);case 4:n.sent,a(Q()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a(X(n.t0.message));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))},loadPost:function(t){return e(K(t))},resetRequest:function(){return e(G())}}})(Me),Fe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(j,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:ve}),r.a.createElement(m.a,{path:"/posts",exact:!0,component:be}),r.a.createElement(m.a,{path:"/contact",exact:!0,component:Oe}),r.a.createElement(m.a,{path:"/random",exact:!0,component:qe}),r.a.createElement(m.a,{path:"/posts/new",exact:!0,component:Ie}),r.a.createElement(m.a,{path:"/posts/:id",exact:!0,component:Be}),r.a.createElement(m.a,{path:"/posts/edit/:id",exact:!0,component:Le}),r.a.createElement(m.a,{component:je})))}}]),t}(r.a.Component),Qe=(n(267),n(268),n(29)),Xe=n(104),Ge=Object(Qe.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A:return Object(x.a)({},e,{data:t.payload});case D:return Object(x.a)({},e,{data:[],singlePost:{},request:{pending:!0,error:null,success:null}});case I:return Object(x.a)({},e,{request:{pending:!1,error:null,success:!0}});case U:return Object(x.a)({},e,{request:{pending:!1,error:t.error,success:!1}});case B:return Object(x.a)({},e,{singlePost:t.payload});case M:return Object(x.a)({},e,{request:{pending:!1,error:null,success:null}});case L:return Object(x.a)({},e,{postsPerPage:t.payload.postsPerPage,presentPage:t.payload.presentPage,amount:t.payload.amount,data:Object(y.a)(t.payload.posts)});default:return e}}}),Je=Object(Qe.e)(Ge,Object(Qe.d)(Object(Qe.a)(Xe.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(r.a.createElement(function(){return r.a.createElement(P.a,{store:Je},r.a.createElement(f.a,null,r.a.createElement(Fe,null)))},null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.7781b15f.chunk.js.map